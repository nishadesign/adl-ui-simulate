<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ADL UI Simulate - Preview</title>

    <!-- Salesforce Lightning Design System -->
    <link rel="stylesheet" href="https://unpkg.com/@salesforce-ux/design-system@2.22.0/assets/styles/salesforce-lightning-design-system.min.css">

    <style>
        body {
            font-family: 'Salesforce Sans', Arial, sans-serif;
            background-color: #f3f3f3;
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            min-height: 100vh;
        }

        /* File upload area */
        .file-upload-area {
            border: 2px dashed #dddbda;
            border-radius: 4px;
            padding: 20px;
            text-align: center;
            background-color: #fafaf9;
            cursor: pointer;
            transition: all 0.3s;
        }

        .file-upload-area:hover {
            border-color: #0176d3;
            background-color: #f3f9ff;
        }

        .file-upload-area input[type="file"] {
            display: none;
        }

        /* Toast notification */
        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            background: white;
            border-radius: 4px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
            display: none;
            z-index: 9999;
        }

        .toast.show {
            display: block;
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from { transform: translateX(400px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .toast.success { border-left: 4px solid #04844b; }
        .toast.error { border-left: 4px solid #c23934; }
        .toast.info { border-left: 4px solid #0176d3; }
    </style>
</head>
<body>
    <div class="container">
        <!-- Page Header -->
        <div class="slds-page-header">
            <div class="slds-page-header__row">
                <div class="slds-page-header__col-title">
                    <div class="slds-media">
                        <div class="slds-media__figure">
                            <span class="slds-icon_container slds-icon-standard-data-streams">
                                <svg class="slds-icon slds-page-header__icon" aria-hidden="true">
                                    <use xlink:href="https://unpkg.com/@salesforce-ux/design-system@2.22.0/assets/icons/standard-sprite/svg/symbols.svg#data_streams"></use>
                                </svg>
                            </span>
                        </div>
                        <div class="slds-media__body">
                            <div class="slds-page-header__name">
                                <div class="slds-page-header__name-title">
                                    <h1>
                                        <span class="slds-page-header__title slds-truncate" title="ADL UI Simulate">Data Library</span>
                                    </h1>
                                </div>
                            </div>
                            <p class="slds-page-header__name-meta">ADL UI Simulate</p>
                        </div>
                    </div>
                </div>
                <div class="slds-page-header__col-actions">
                    <div class="slds-page-header__controls">
                        <button class="slds-button slds-button_brand" onclick="showToast('info', 'Edit functionality would be implemented in Salesforce')">Edit</button>
                    </div>
                </div>
            </div>
            <div class="slds-page-header__row slds-m-top_small">
                <div class="slds-page-header__col-details">
                    <ul class="slds-page-header__detail-row">
                        <li class="slds-page-header__detail-block">
                            <div class="slds-text-title slds-truncate" title="API Name">API Name</div>
                            <div class="slds-truncate" title="adl_UI_Simulate">adl_UI_Simulate</div>
                        </li>
                        <li class="slds-page-header__detail-block">
                            <div class="slds-text-title slds-truncate" title="Description">Description</div>
                            <div class="slds-truncate" title="The purpose of this data library is to simulate ADL UI functionality...">
                                The purpose of this data library is to simulate ADL UI functionality...
                            </div>
                        </li>
                        <li class="slds-page-header__detail-block">
                            <div class="slds-text-title slds-truncate" title="Status">Status</div>
                            <div>
                                <span class="slds-badge slds-theme_warning">In Progress</span>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="slds-m-around_large">
            <article class="slds-card">
                <div class="slds-card__header slds-grid">
                    <header class="slds-media slds-media_center slds-has-flexi-truncate">
                        <div class="slds-media__body">
                            <h2 class="slds-card__header-title">
                                <span>Add Data</span>
                            </h2>
                        </div>
                    </header>
                </div>
                <div class="slds-card__body slds-card__body_inner">
                    <!-- Data Space -->
                    <div class="slds-form-element slds-m-bottom_medium">
                        <label class="slds-form-element__label" for="data-space">
                            <abbr class="slds-required" title="required">* </abbr>Data Space
                        </label>
                        <div class="slds-form-element__control">
                            <div class="slds-select_container">
                                <select class="slds-select" id="data-space">
                                    <option value="">Select an option</option>
                                    <option value="Default" selected>Default</option>
                                    <option value="Production">Production</option>
                                    <option value="Development">Development</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Unstructured Data Model Object -->
                    <div class="slds-form-element slds-m-bottom_medium">
                        <label class="slds-form-element__label" for="unstructured-data-model">
                            <abbr class="slds-required" title="required">* </abbr>Unstructured Data Model Object
                            <button class="slds-button slds-button_icon" title="Help">
                                <svg class="slds-button__icon slds-button__icon_small" aria-hidden="true">
                                    <use xlink:href="https://unpkg.com/@salesforce-ux/design-system@2.22.0/assets/icons/utility-sprite/svg/symbols.svg#info"></use>
                                </svg>
                                <span class="slds-assistive-text">Help</span>
                            </button>
                        </label>
                        <div class="slds-form-element__control">
                            <input type="text" id="unstructured-data-model" class="slds-input" value="adi_name_sidno" required />
                        </div>
                    </div>

                    <!-- Data Type -->
                    <div class="slds-form-element slds-m-bottom_medium">
                        <label class="slds-form-element__label">
                            <abbr class="slds-required" title="required">* </abbr>Data Type
                        </label>
                        <div class="slds-form-element__control">
                            <div class="slds-pill_container">
                                <span class="slds-pill">
                                    <span class="slds-pill__label">Files</span>
                                </span>
                            </div>
                        </div>
                    </div>

                    <!-- Add Files -->
                    <div class="slds-form-element slds-m-bottom_medium">
                        <label class="slds-form-element__label">
                            <abbr class="slds-required" title="required">* </abbr>Add Files
                        </label>
                        <div class="slds-form-element__control">
                            <div class="file-upload-area" onclick="document.getElementById('file-input').click()">
                                <input type="file" id="file-input" multiple accept=".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.csv" onchange="handleFileUpload(event)">
                                <div class="slds-text-heading_medium">Drop files or click to browse</div>
                                <div class="slds-text-body_small slds-text-color_weak slds-m-top_x-small">
                                    Supported formats: PDF, DOC, DOCX, XLS, XLSX, PPT, PPTX, TXT, CSV
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- File List -->
                    <div class="slds-text-body_small slds-text-color_weak slds-m-bottom_small">
                        Showing <span id="file-count">7</span> of 460 files
                    </div>

                    <!-- Files Table -->
                    <div class="slds-scrollable_x">
                        <table class="slds-table slds-table_cell-buffer slds-table_bordered slds-table_fixed-layout" role="grid">
                            <thead>
                                <tr class="slds-line-height_reset">
                                    <th style="width: 3.25rem;" scope="col">
                                        <div class="slds-th__action slds-th__action_form">
                                            <input type="checkbox" id="select-all" onchange="handleSelectAll(this)">
                                        </div>
                                    </th>
                                    <th scope="col">
                                        <div class="slds-truncate" title="File Name">File Name</div>
                                    </th>
                                    <th scope="col">
                                        <div class="slds-truncate" title="Size">Size</div>
                                    </th>
                                    <th scope="col">
                                        <div class="slds-truncate" title="Status">Status</div>
                                    </th>
                                    <th scope="col">
                                        <div class="slds-truncate" title="Uploaded By">Uploaded By</div>
                                    </th>
                                    <th scope="col">
                                        <div class="slds-truncate" title="Uploaded On">Uploaded On</div>
                                    </th>
                                    <th style="width: 3.25rem;" scope="col">
                                        <div class="slds-th__action">
                                            <span class="slds-assistive-text">Actions</span>
                                        </div>
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="file-table-body">
                                <!-- Files will be rendered here -->
                            </tbody>
                        </table>
                    </div>

                    <!-- Content Processing Section -->
                    <div class="slds-m-top_large">
                        <h3 class="slds-text-heading_small slds-m-bottom_small">Content Processing</h3>
                        <div class="slds-box slds-box_x-small slds-theme_shade">
                            <p class="slds-text-body_regular">
                                Make sure your agents can access the most relevant and up-to-date information when you ingest and index content using advanced processing tools and
                                Intelligent Context. We'll automatically apply advanced processing tools from Intelligent Context when you upload a PDF that is 10MB or
                                <a href="javascript:void(0);" onclick="showToast('info', 'Learn more functionality would open help documentation')">less. Learn more in Help.</a>
                            </p>
                            <p class="slds-text-body_regular slds-m-top_small">
                                Want more control? View and adjust your content processing settings from Intelligent Context in Data Cloud.
                                <a href="javascript:void(0);" onclick="showToast('info', 'Would navigate to Intelligent Context in Data Cloud')">Go to Intelligent Context.</a>
                            </p>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="slds-m-top_large">
                        <button class="slds-button slds-button_neutral slds-m-right_small" onclick="handleCancel()">Cancel</button>
                        <button class="slds-button slds-button_brand" onclick="handleSave()">Save</button>
                    </div>
                </div>
            </article>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast"></div>

    <script>
        // Mock file data
        const fileList = [
            { id: '1', name: 'ADL Sample Document', size: '34 KB', status: '', uploadedBy: '', uploadedOn: '', selected: false },
            { id: '2', name: 'UI Simulation Guide', size: '340 KB', status: '', uploadedBy: '', uploadedOn: '', selected: false },
            { id: '3', name: 'Operating Manual', size: '400 KB', status: '', uploadedBy: '', uploadedOn: '', selected: false },
            { id: '4', name: 'Marketing Manual', size: '880 KB', status: '', uploadedBy: '', uploadedOn: '', selected: false },
            { id: '5', name: 'Policy Docs', size: '889 KB', status: '', uploadedBy: '', uploadedOn: '', selected: false },
            { id: '6', name: 'Test File', size: '888 KB', status: '', uploadedBy: '', uploadedOn: '', selected: false },
            { id: '7', name: 'Demo Files', size: '888 KB', status: '', uploadedBy: '', uploadedOn: '', selected: false }
        ];

        // Render file table
        function renderFileTable() {
            const tbody = document.getElementById('file-table-body');
            tbody.innerHTML = fileList.map(file => `
                <tr class="slds-hint-parent">
                    <td role="gridcell">
                        <input type="checkbox" data-id="${file.id}" onchange="handleRowSelection(this)">
                    </td>
                    <th scope="row">
                        <div class="slds-truncate" title="${file.name}">${file.name}</div>
                    </th>
                    <td role="gridcell">
                        <div class="slds-truncate" title="${file.size}">${file.size}</div>
                    </td>
                    <td role="gridcell">
                        <div class="slds-truncate" title="${file.status}">${file.status}</div>
                    </td>
                    <td role="gridcell">
                        <div class="slds-truncate" title="${file.uploadedBy}">${file.uploadedBy}</div>
                    </td>
                    <td role="gridcell">
                        <div class="slds-truncate" title="${file.uploadedOn}">${file.uploadedOn}</div>
                    </td>
                    <td role="gridcell">
                        <button class="slds-button slds-button_icon slds-button_icon-border-filled slds-m-right_xx-small" title="Preview" onclick="showToast('info', 'Preview: ${file.name}')">
                            <svg class="slds-button__icon" aria-hidden="true">
                                <use xlink:href="https://unpkg.com/@salesforce-ux/design-system@2.22.0/assets/icons/utility-sprite/svg/symbols.svg#preview"></use>
                            </svg>
                            <span class="slds-assistive-text">Preview</span>
                        </button>
                        <button class="slds-button slds-button_icon slds-button_icon-error" title="Delete" onclick="handleDeleteFile('${file.id}', '${file.name}')">
                            <svg class="slds-button__icon" aria-hidden="true">
                                <use xlink:href="https://unpkg.com/@salesforce-ux/design-system@2.22.0/assets/icons/utility-sprite/svg/symbols.svg#delete"></use>
                            </svg>
                            <span class="slds-assistive-text">Delete</span>
                        </button>
                    </td>
                </tr>
            `).join('');

            updateFileCount();
        }

        // Handle file upload
        function handleFileUpload(event) {
            const files = Array.from(event.target.files);
            if (files.length > 0) {
                showToast('success', `${files.length} file(s) uploaded successfully`);
                files.forEach((file, index) => {
                    fileList.push({
                        id: String(fileList.length + 1),
                        name: file.name,
                        size: formatFileSize(file.size),
                        status: 'Uploaded',
                        uploadedBy: 'Current User',
                        uploadedOn: new Date().toISOString(),
                        selected: false
                    });
                });
                renderFileTable();
            }
        }

        // Format file size
        function formatFileSize(bytes) {
            if (bytes < 1024) return bytes + ' B';
            if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(0) + ' KB';
            return (bytes / (1024 * 1024)).toFixed(2) + ' MB';
        }

        // Handle delete file
        function handleDeleteFile(fileId, fileName) {
            if (confirm(`Are you sure you want to delete "${fileName}"?`)) {
                const index = fileList.findIndex(f => f.id === fileId);
                if (index > -1) {
                    fileList.splice(index, 1);
                    renderFileTable();
                    showToast('success', `${fileName} has been deleted`);
                }
            }
        }

        // Handle select all
        function handleSelectAll(checkbox) {
            const checkboxes = document.querySelectorAll('#file-table-body input[type="checkbox"]');
            checkboxes.forEach(cb => cb.checked = checkbox.checked);
        }

        // Handle row selection
        function handleRowSelection(checkbox) {
            const fileId = checkbox.dataset.id;
            const file = fileList.find(f => f.id === fileId);
            if (file) {
                file.selected = checkbox.checked;
            }
        }

        // Update file count
        function updateFileCount() {
            document.getElementById('file-count').textContent = fileList.length;
        }

        // Handle cancel
        function handleCancel() {
            showToast('info', 'Cancel clicked - would close the form in Salesforce');
        }

        // Handle save
        function handleSave() {
            showToast('success', 'Save clicked - would save data to Salesforce');
        }

        // Show toast notification
        function showToast(type, message) {
            const toast = document.getElementById('toast');
            toast.className = `toast ${type} show`;
            toast.innerHTML = `
                <div style="display: flex; align-items: center;">
                    <strong style="margin-right: 10px;">${type.charAt(0).toUpperCase() + type.slice(1)}</strong>
                    <span>${message}</span>
                </div>
            `;
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            renderFileTable();
        });

        // Drag and drop support
        const uploadArea = document.querySelector('.file-upload-area');

        uploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadArea.style.borderColor = '#0176d3';
            uploadArea.style.backgroundColor = '#f3f9ff';
        });

        uploadArea.addEventListener('dragleave', () => {
            uploadArea.style.borderColor = '#dddbda';
            uploadArea.style.backgroundColor = '#fafaf9';
        });

        uploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadArea.style.borderColor = '#dddbda';
            uploadArea.style.backgroundColor = '#fafaf9';

            const files = Array.from(e.dataTransfer.files);
            if (files.length > 0) {
                const fileInput = document.getElementById('file-input');
                fileInput.files = e.dataTransfer.files;
                handleFileUpload({ target: fileInput });
            }
        });
    </script>
</body>
</html>
